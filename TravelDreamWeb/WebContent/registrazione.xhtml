<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>
 <h2>FORM DI REGISTRAZIONE</h2>
 <h:form>
  <p:fieldset legend="Registration Form" widgetVar="regWidget" style="width: 600px;">
   <h:panelGrid id="panel" columns="3" width="550" border="0">
   
    <p:focus context="panel" />
    <h:outputLabel value="Nome" />
    <p:inputText value="#{registerBean.user.firstName}"
       id="nome"
        required="true"
        requiredMessage="Devi inseriere il nome"
        validatorMessage="Il nome  deve avere una lunghezza da 1 a 15 caratteri"
        >
     <f:validateLength minimum="1" maximum="15" for="nome"></f:validateLength>
    </p:inputText>
    <p:message for="nome"/>
    
    <h:outputLabel value="Cognome" />
    <p:inputText value="#{registerBean.user.lastName}"
       id="cognome"
       required="true"
       requiredMessage="Devi inserire il cognome"
       validatorMessage="Il cognome deve avere una lunghezza da 1 a 15 caratteri"
       >
      <f:validateLength minimum="1" maximum="15" for="cognome"></f:validateLength>
    </p:inputText>
    <p:message for="cognome" />
    
    <h:outputLabel value="Email" />
    <p:inputText value="#{registerBean.user.username}"
       id="email"
       required="true"
       requiredMessage="Devi inserire lo username"
       validatorMessage="Lo username inserito non Ã¨ valido">
     <f:validateRegex pattern="^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$"></f:validateRegex>
     
    </p:inputText>
    <p:message for="email" />
    
    <h:outputLabel value="Password" />
    <p:password value="#{registerBean.user.password}"
       id="password"
       required="true"
       requiredMessage="Devi inserire una password"
       validatorMessage="La password inserita deve avere una lunghezza da 8 a 15 caratteri"
       >
      <f:validateLength minimum="8" maximum="15" for="password"></f:validateLength>
    </p:password>
    <p:message for="password" />
    
    
    <p:commandButton value="Crea Account" action="#{registerBean.register()}" ajax="false" > </p:commandButton>
	
	

	
	
    <p:messages id="message" showSummary="true" showDetail="false" autoUpdate="true" closable="true" />
   </h:panelGrid>
  </p:fieldset>
  
 </h:form>
</h:body>
</html>
